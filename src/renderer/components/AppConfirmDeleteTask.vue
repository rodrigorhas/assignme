<template>
  <div>
    <!-- Ask for user to confirm delete action -->
    <v-layout row justify-center style="position: relative;">
      <v-dialog v-model="show" persistent>
        <v-card>
          <v-card-title>
            <div class="headline">Delete selected task</div>
          </v-card-title>
          <v-card-text>Are you sure you want to delete the <b>{{taskToDelete.title}}</b> task?</v-card-text>
          <v-card-actions>
            <v-spacer></v-spacer>
            <v-btn flat="flat" @click.native="$emit('close')">Don't delete</v-btn>
            <v-btn class="red--text darken-1" flat="flat" @click.native="removeTask">Go ahead</v-btn>
          </v-card-actions>
        </v-card>
      </v-dialog>
    </v-layout>
  </div>
</template>

<script>
  export default {
    name: 'AppConfirmDeleteTask',
    props: {
      taskToDelete: Object,
      show: Boolean
    },
    methods: {
      removeTask () {
        this.$store.dispatch('tasks/removeTask', this.taskToDelete)
        this.$emit('close')
      }
    }
  }
</script>
